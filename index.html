<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2024 Annual Performance & Compensation Cycles - Managers Survey</title>
    <style>
        /* General styling */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fa;
            margin: 0;
            padding: 10px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            width: 100%;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 0;
            }
            
            .container {
                border-radius: 0;
            }
        }
        
        .header {
            background-color: #2563eb;
            color: white;
            padding: 20px 10px;
            text-align: center;
            position: relative;
        }
        
        .header h1 {
            margin: 35px 0 0 0;
            font-size: 1.5rem;
            line-height: 1.4;
        }
        
        #survey-title-part1 {
            display: block;
        }
        
        #survey-title-part2 {
            display: block;
        }
        
        .header p {
            margin-top: 8px;
            font-size: 0.9rem;
        }
        
        @media (max-width: 576px) {
            .header h1 {
                font-size: 1.3rem;
                margin-top: 40px;
            }
            .language-toggle {
                top: 10px;
                right: 10px;
            }
        }
        
        .form-container {
            padding: 20px 15px;
        }
        
        @media (max-width: 576px) {
            .form-container {
                padding: 15px 10px;
            }
        }
        
        /* Language toggle */
        .language-toggle {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: white;
            border-radius: 20px;
            display: inline-flex;
            padding: 2px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .language-toggle button {
            border: none;
            padding: 6px 12px;
            font-weight: 600;
            cursor: pointer;
            background: transparent;
            position: relative;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .language-toggle button.active {
            background-color: #4285f4;
            color: white;
            border-radius: 18px;
        }
        
        /* Section styling */
        .section-header {
            background-color: #dbeafe;
            color: #1e40af;
            padding: 12px;
            margin-bottom: 24px;
            border-radius: 6px;
        }
        
        .section-header h2 {
            margin: 0;
            font-size: 1.2rem;
        }
        
        /* Question styling */
        .question {
            margin-bottom: 30px;
        }
        
        .question label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .question .description {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 8px;
        }
        
        .question .required {
            color: #dc2626;
        }
        
        .option {
            margin-bottom: 10px;
        }
        
        .option label {
            display: flex;
            align-items: flex-start;
            font-weight: normal;
        }
        
        .option input[type="radio"] {
            margin-right: 8px;
            margin-top: 3px;
        }
        
        @media (max-width: 576px) {
            .question {
                margin-bottom: 25px;
            }
            .option {
                margin-bottom: 8px;
            }
            .option label {
                font-size: 0.95rem;
            }
        }
        
        /* Form controls */
        select, textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-family: inherit;
            font-size: 1rem;
        }
        
        select:focus, textarea:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        /* Buttons */
        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 24px;
        }
        
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .btn-next {
            background-color: #2563eb;
            color: white;
            margin-left: auto;
        }
        
        .btn-next:hover {
            background-color: #1d4ed8;
        }
        
        .btn-prev {
            background-color: #d1d5db;
            color: #374151;
        }
        
        .btn-prev:hover {
            background-color: #9ca3af;
        }
        
        .btn-submit {
            background-color: #10b981;
            color: white;
        }
        
        .btn-submit:hover {
            background-color: #059669;
        }
        
        @media (max-width: 576px) {
            button {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
        }
        
        /* Error messages */
        .error-message {
            color: #dc2626;
            font-size: 0.875rem;
            margin-top: 4px;
            display: none;
        }
        
        .error .error-message {
            display: block;
        }
        
        .error select, .error textarea {
            border-color: #dc2626;
        }
        
        /* Conditional questions */
        .conditional-question {
            margin-left: 24px;
            padding-left: 16px;
            border-left: 2px solid #93c5fd;
            margin-bottom: 24px;
            display: none;
        }
        
        /* Thank you message */
        .thank-you {
            text-align: center;
            padding: 40px 20px;
        }
        
        .thank-you h2 {
            color: #10b981;
            margin-bottom: 16px;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            margin-top: 16px;
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        /* Hide page 2 initially */
        #page2 {
            display: none;
        }
        
        /* Hide thank you page initially */
        #thankYouPage {
            display: none;
        }
        
        /* Loading indicator */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 8px;
            vertical-align: middle;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .loading-text {
            display: none;
        }
        
        .is-loading .loading-text {
            display: inline;
        }
        
        .is-loading .normal-text {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="language-toggle">
                <button id="en-btn" class="active" onclick="switchLanguage('en')">EN</button>
                <button id="fr-btn" onclick="switchLanguage('fr')">FR</button>
            </div>
            <h1 id="survey-title">
                <span id="survey-title-part1">2024 Annual Performance & Compensation Cycles -</span>
                <span id="survey-title-part2">Managers Survey</span>
            </h1>
            <p id="survey-subtitle">Your feedback will help us make your next experience even better!</p>
        </div>
        
        <!-- Page 1 -->
        <div id="page1" class="form-container">
            <div class="question" id="countryQuestion">
                <label for="country" id="country-label">Select your country: <span class="required">*</span></label>
                <select id="country" name="country">
                    <option value="">-- Select Country --</option>
                    <option value="Belgium">Belgium</option>
                    <option value="Canada">Canada</option>
                    <option value="Estonia">Estonia</option>
                    <option value="Finland">Finland</option>
                    <option value="France">France</option>
                    <option value="Latvia">Latvia</option>
                    <option value="Lithuania">Lithuania</option>
                    <option value="Mexico">Mexico</option>
                    <option value="Morocco">Morocco</option>
                    <option value="Poland">Poland</option>
                    <option value="Portugal">Portugal</option>
                    <option value="Romania">Romania</option>
                    <option value="Russia">Russia</option>
                    <option value="Turkey">Turkey</option>
                    <option value="Ukraine">Ukraine</option>
                    <option value="USA">USA</option>
                    <option value="Vietnam">Vietnam</option>
                </select>
                <div class="error-message" id="country-error">Please select your country</div>
            </div>
            
            <div class="section-header">
                <h2 id="part1-title">Part 1: 2024 Annual performance cycle</h2>
            </div>
            
            <div class="question" id="q1Question">
                <label id="q1-label">1. How satisfied are you with the 2024 annual performance review? <span class="required">*</span></label>
                <div class="option">
                    <label>
                        <input type="radio" name="q1" value="Fully satisfied">
                        <span id="q1-opt1">Fully satisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q1" value="Mostly satisfied">
                        <span id="q1-opt2">Mostly satisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q1" value="Mostly unsatisfied">
                        <span id="q1-opt3">Mostly unsatisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q1" value="Very unsatisfied">
                        <span id="q1-opt4">Very unsatisfied</span>
                    </label>
                </div>
                <div class="error-message" id="q1-error">Please select an option</div>
            </div>
            
            <div class="question" id="q2Question">
                <label for="q2" id="q2-label">2. What were the strengths of the 2024 annual performance review? <span class="required">*</span></label>
                <textarea id="q2" name="q2"></textarea>
                <div class="error-message" id="q2-error">Please provide your response</div>
            </div>
            
            <div class="question" id="q3Question">
                <label for="q3" id="q3-label">3. What would be your recommendations for improvement for the 2024 annual performance review? <span class="required">*</span></label>
                <textarea id="q3" name="q3"></textarea>
                <div class="error-message" id="q3-error">Please provide your response</div>
            </div>
            
            <div class="question" id="q4Question">
                <label id="q4-label">4. Did you face any challenges during the 2024 annual performance review? <span class="required">*</span></label>
                <div class="option">
                    <label>
                        <input type="radio" name="q4" value="Yes" onchange="toggleConditionalQuestion('q5ConditionalQuestion', true)">
                        <span id="q4-opt1">Yes</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q4" value="No" onchange="toggleConditionalQuestion('q5ConditionalQuestion', false)">
                        <span id="q4-opt2">No</span>
                    </label>
                </div>
                <div class="error-message" id="q4-error">Please select an option</div>
            </div>
            
            <div class="conditional-question" id="q5ConditionalQuestion">
                <div class="question" id="q5Question">
                    <label id="q5-label">5. If yes, please specify the main challenge: <span class="required">*</span></label>
                    <div class="option">
                        <label>
                            <input type="radio" name="q5" value="Tool">
                            <span id="q5-opt1">Tool</span>
                        </label>
                    </div>
                    <div class="option">
                        <label>
                            <input type="radio" name="q5" value="Process">
                            <span id="q5-opt2">Process</span>
                        </label>
                    </div>
                    <div class="option">
                        <label>
                            <input type="radio" name="q5" value="Clarity of communication">
                            <span id="q5-opt3">Clarity of communication</span>
                        </label>
                    </div>
                    <div class="option">
                        <label>
                            <input type="radio" name="q5" value="All of the above">
                            <span id="q5-opt4">All of the above</span>
                        </label>
                    </div>
                    <div class="error-message" id="q5-error">Please select an option</div>
                </div>
            </div>
            
            <div class="question" id="q6Question">
                <label id="q6-label">6. How would you assess the support while participating in the 2024 annual performance review? <span class="required">*</span></label>
                <p class="description" id="q6-description">(presentation of the performance review campaign, access to information, Workday navigation understanding, answers provided, etc.)</p>
                <div class="option">
                    <label>
                        <input type="radio" name="q6" value="Excellent">
                        <span id="q6-opt1">Excellent</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q6" value="Good">
                        <span id="q6-opt2">Good</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q6" value="Light">
                        <span id="q6-opt3">Light</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q6" value="Very light">
                        <span id="q6-opt4">Very light</span>
                    </label>
                </div>
                <div class="error-message" id="q6-error">Please select an option</div>
            </div>
            
            <div class="question" id="q7Question">
                <label id="q7-label">7. How would you assess the quality of the discussion with your manager while participating in the 2024 annual performance review? <span class="required">*</span></label>
                <div class="option">
                    <label>
                        <input type="radio" name="q7" value="Fully satisfied">
                        <span id="q7-opt1">Fully satisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q7" value="Mostly satisfied">
                        <span id="q7-opt2">Mostly satisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q7" value="Mostly unsatisfied">
                        <span id="q7-opt3">Mostly unsatisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q7" value="Very unsatisfied">
                        <span id="q7-opt4">Very unsatisfied</span>
                    </label>
                </div>
                <div class="error-message" id="q7-error">Please select an option</div>
            </div>
            
            <div class="question" id="q8Question">
                <label id="q8-label">8. If you received feedback for a direct report, was it useful for their annual performance review? <span class="required">*</span></label>
                <div class="option">
                    <label>
                        <input type="radio" name="q8" value="Yes" onchange="toggleConditionalQuestion('q9ConditionalQuestion', true)">
                        <span id="q8-opt1">Yes</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q8" value="No" onchange="toggleConditionalQuestion('q9ConditionalQuestion', false)">
                        <span id="q8-opt2">No</span>
                    </label>
                </div>
                <div class="error-message" id="q8-error">Please select an option</div>
            </div>
            
            <div class="conditional-question" id="q9ConditionalQuestion">
                <div class="question" id="q9Question">
                    <label for="q9" id="q9-label">9. If you answered yes, please specify the main reason? <span class="required">*</span></label>
                    <textarea id="q9" name="q9"></textarea>
                    <div class="error-message" id="q9-error">Please provide your response</div>
                </div>
            </div>
            
            <div class="button-group">
                <button type="button" class="btn-next" onclick="goToNextPage()"><span id="next-btn">Next →</span></button>
            </div>
        </div>
        
        <!-- Page 2 -->
        <div id="page2" class="form-container">
            <div class="section-header">
                <h2 id="part2-title">Part 2: 2024 annual compensation review cycle</h2>
            </div>
            
            <div class="question" id="q10Question">
                <label id="q10-label">10. How satisfied are you with the 2024 annual compensation review? <span class="required">*</span></label>
                <div class="option">
                    <label>
                        <input type="radio" name="q10" value="Fully satisfied">
                        <span id="q10-opt1">Fully satisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q10" value="Mostly satisfied">
                        <span id="q10-opt2">Mostly satisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q10" value="Mostly unsatisfied">
                        <span id="q10-opt3">Mostly unsatisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q10" value="Very unsatisfied">
                        <span id="q10-opt4">Very unsatisfied</span>
                    </label>
                </div>
                <div class="error-message" id="q10-error">Please select an option</div>
            </div>
            
            <div class="question" id="q11Question">
                <label id="q11-label">11. What were the strengths of the 2024 annual compensation review? <span class="required">*</span></label>
                <div class="option">
                    <label>
                        <input type="radio" name="q11" value="Process">
                        <span id="q11-opt1">Process</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q11" value="Tool">
                        <span id="q11-opt2">Tool</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q11" value="Clarity of communication">
                        <span id="q11-opt3">Clarity of communication</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q11" value="All of the above">
                        <span id="q11-opt4">All of the above</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q11" value="None">
                        <span id="q11-opt5">None</span>
                    </label>
                </div>
                <div class="error-message" id="q11-error">Please select an option</div>
            </div>
            
            <div class="question" id="q12Question">
                <label for="q12" id="q12-label">12. Would you like to provide more details about your answer to question 11? <span class="required">*</span></label>
                <textarea id="q12" name="q12"></textarea>
                <div class="error-message" id="q12-error">Please provide your response</div>
            </div>
            
            <div class="question" id="q13Question">
                <label id="q13-label">13. What would be your recommendations for improvement for the 2024 annual compensation review? <span class="required">*</span></label>
                <div class="option">
                    <label>
                        <input type="radio" name="q13" value="Process">
                        <span id="q13-opt1">Process</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q13" value="Tool">
                        <span id="q13-opt2">Tool</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q13" value="Clarity of communication">
                        <span id="q13-opt3">Clarity of communication</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q13" value="All of the above">
                        <span id="q13-opt4">All of the above</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q13" value="None">
                        <span id="q13-opt5">None</span>
                    </label>
                </div>
                <div class="error-message" id="q13-error">Please select an option</div>
            </div>
            
            <div class="question" id="q14Question">
                <label for="q14" id="q14-label">14. What would be your recommendations for improvement for the 2024 annual compensation review?</label>
                <textarea id="q14" name="q14"></textarea>
            </div>
            
            <div class="question" id="q15Question">
                <label id="q15-label">15. What was your user experience when entering your team's individual increases in Workday? <span class="required">*</span></label>
                <div class="option">
                    <label>
                        <input type="radio" name="q15" value="Fully satisfied">
                        <span id="q15-opt1">Fully satisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q15" value="Mostly satisfied">
                        <span id="q15-opt2">Mostly satisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q15" value="Mostly unsatisfied">
                        <span id="q15-opt3">Mostly unsatisfied</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q15" value="Very unsatisfied">
                        <span id="q15-opt4">Very unsatisfied</span>
                    </label>
                </div>
                <div class="error-message" id="q15-error">Please select an option</div>
            </div>
            
            <div class="button-group">
                <button type="button" class="btn-prev" onclick="goToPreviousPage()"><span id="prev-btn">← Previous</span></button>
                <button type="button" class="btn-submit" onclick="submitForm()">
                    <span class="normal-text" id="submit-btn">Submit</span>
                    <span class="loading-text" id="submitting-text">Submitting...</span>
                </button>
            </div>
        </div>
        
        <!-- Thank You Page -->
        <div id="thankYouPage" class="thank-you">
            <h2 id="thank-you-title">Thank You!</h2>
            <p id="thank-you-message1">Your feedback has been successfully submitted.</p>
            <p id="thank-you-message2">Your responses will help us improve the performance and compensation review processes.</p>
        </div>
    </div>
    
    <div class="footer">
        <p id="required-fields-note">All required fields are marked with an asterisk (*)</p>
    </div>
    
    <script>
        // Language settings
        const translations = {
            en: {
                // Header
                "survey-title-part1": "2024 Annual Performance & Compensation Cycles -",
                "survey-title-part2": "Managers Survey",
                "survey-subtitle": "Your feedback will help us make your next experience even better!",
                
                // Country field
                "country-label": "Select your country: <span class=\"required\">*</span>",
                "country-error": "Please select your country",
                
                // Part 1
                "part1-title": "Part 1: 2024 Annual performance cycle",
                
                // Q1
                "q1-label": "1. How satisfied are you with the 2024 annual performance review? <span class=\"required\">*</span>",
                "q1-opt1": "Fully satisfied",
                "q1-opt2": "Mostly satisfied",
                "q1-opt3": "Mostly unsatisfied",
                "q1-opt4": "Very unsatisfied",
                "q1-error": "Please select an option",
                
                // Q2
                "q2-label": "2. What were the strengths of the 2024 annual performance review? <span class=\"required\">*</span>",
                "q2-error": "Please provide your response",
                
                // Q3
                "q3-label": "3. What would be your recommendations for improvement for the 2024 annual performance review? <span class=\"required\">*</span>",
                "q3-error": "Please provide your response",
                
                // Q4
                "q4-label": "4. Did you face any challenges during the 2024 annual performance review? <span class=\"required\">*</span>",
                "q4-opt1": "Yes",
                "q4-opt2": "No",
                "q4-error": "Please select an option",
                
                // Q5
                "q5-label": "5. If yes, please specify the main challenge: <span class=\"required\">*</span>",
                "q5-opt1": "Tool",
                "q5-opt2": "Process",
                "q5-opt3": "Clarity of communication",
                "q5-opt4": "All of the above",
                "q5-error": "Please select an option",
                
                // Q6
                "q6-label": "6. How would you assess the support while participating in the 2024 annual performance review? <span class=\"required\">*</span>",
                "q6-description": "(presentation of the performance review campaign, access to information, Workday navigation understanding, answers provided, etc.)",
                "q6-opt1": "Excellent",
                "q6-opt2": "Good",
                "q6-opt3": "Light",
                "q6-opt4": "Very light",
                "q6-error": "Please select an option",
                
                // Q7
                "q7-label": "7. How would you assess the quality of the discussion with your manager while participating in the 2024 annual performance review? <span class=\"required\">*</span>",
                "q7-opt1": "Fully satisfied",
                "q7-opt2": "Mostly satisfied",
                "q7-opt3": "Mostly unsatisfied",
                "q7-opt4": "Very unsatisfied",
                "q7-error": "Please select an option",
                
                // Q8
                "q8-label": "8. If you received feedback for a direct report, was it useful for their annual performance review? <span class=\"required\">*</span>",
                "q8-opt1": "Yes",
                "q8-opt2": "No",
                "q8-error": "Please select an option",
                
                // Q9
                "q9-label": "9. If you answered yes, please specify the main reason? <span class=\"required\">*</span>",
                "q9-error": "Please provide your response",
                
                // Part 2
                "part2-title": "Part 2: 2024 annual compensation review cycle",
                
                // Q10
                "q10-label": "10. How satisfied are you with the 2024 annual compensation review? <span class=\"required\">*</span>",
                "q10-opt1": "Fully satisfied",
                "q10-opt2": "Mostly satisfied",
                "q10-opt3": "Mostly unsatisfied",
                "q10-opt4": "Very unsatisfied",
                "q10-error": "Please select an option",
                
                // Q11
                "q11-label": "11. What were the strengths of the 2024 annual compensation review? <span class=\"required\">*</span>",
                "q11-opt1": "Process",
                "q11-opt2": "Tool",
                "q11-opt3": "Clarity of communication",
                "q11-opt4": "All of the above",
                "q11-opt5": "None",
                "q11-error": "Please select an option",
                
                // Q12
                "q12-label": "12. Would you like to provide more details about your answer to question 11? <span class=\"required\">*</span>",
                "q12-error": "Please provide your response",
                
                // Q13
                "q13-label": "13. What would be your recommendations for improvement for the 2024 annual compensation review? <span class=\"required\">*</span>",
                "q13-opt1": "Process",
                "q13-opt2": "Tool",
                "q13-opt3": "Clarity of communication",
                "q13-opt4": "All of the above",
                "q13-opt5": "None",
                "q13-error": "Please select an option",
                
                // Q14
                "q14-label": "14. What would be your recommendations for improvement for the 2024 annual compensation review?",
                
                // Q15
                "q15-label": "15. What was your user experience when entering your team's individual increases in Workday? <span class=\"required\">*</span>",
                "q15-opt1": "Fully satisfied",
                "q15-opt2": "Mostly satisfied",
                "q15-opt3": "Mostly unsatisfied",
                "q15-opt4": "Very unsatisfied",
                "q15-error": "Please select an option",
                
                // Buttons
                "next-btn": "Next →",
                "prev-btn": "← Previous",
                "submit-btn": "Submit",
                "submitting-text": "Submitting...",
                
                // Thank You page
                "thank-you-title": "Thank You!",
                "thank-you-message1": "Your feedback has been successfully submitted.",
                "thank-you-message2": "Your responses will help us improve the performance and compensation review processes.",
                
                // Footer
                "required-fields-note": "All required fields are marked with an asterisk (*)"
            },
            fr: {
                // Header
                "survey-title-part1": "Cycles annuels de performance et de rémunération 2024 -",
                "survey-title-part2": "Questionnaire managers",
                "survey-subtitle": "Vos retours nous aideront à améliorer votre expérience l'année prochaine !",
                
                // Country field
                "country-label": "Sélectionnez votre pays : <span class=\"required\">*</span>",
                "country-error": "Veuillez sélectionner votre pays",
                
                // Part 1
                "part1-title": "Partie 1 : Cycle annuel d'évaluation de la performance 2024",
                
                // Q1
                "q1-label": "1. Quel est votre niveau de satisfaction quant au déroulé du cycle annuel d'évaluation de la performance 2024 ? <span class=\"required\">*</span>",
                "q1-opt1": "Très satisfait",
                "q1-opt2": "Plutôt satisfait",
                "q1-opt3": "Plutôt insatisfait",
                "q1-opt4": "Très insatisfait",
                "q1-error": "Veuillez sélectionner une option",
                
                // Q2
                "q2-label": "2. Quels ont été les points forts du cycle annuel d'évaluation de la performance 2024 ? <span class=\"required\">*</span>",
                "q2-error": "Veuillez fournir votre réponse",
                
                // Q3
                "q3-label": "3. Quels seraient les points d'amélioration du cycle d'évaluation de la performance 2024 ? <span class=\"required\">*</span>",
                "q3-error": "Veuillez fournir votre réponse",
                
                // Q4
                "q4-label": "4. Avez-vous été confronté(e) à des défis pendant le cycle annuel d'évaluation de performance 2024 ? <span class=\"required\">*</span>",
                "q4-opt1": "Oui",
                "q4-opt2": "Non",
                "q4-error": "Veuillez sélectionner une option",
                
                // Q5
                "q5-label": "5. Si votre réponse est \"Oui\", veuillez préciser la raison principale ? <span class=\"required\">*</span>",
                "q5-opt1": "Outil",
                "q5-opt2": "Process",
                "q5-opt3": "Clarté de la communication",
                "q5-opt4": "Les 3 (réponses A, B et C)",
                "q5-error": "Veuillez sélectionner une option",
                
                // Q6
                "q6-label": "6. Comment évalueriez-vous l'accompagnement dans le process d'évaluation de la performance ? <span class=\"required\">*</span>",
                "q6-description": "(présentation de la campagne d'évaluation de la performance, disponibilité des informations, facilité à comprendre les fonctionnalités de l'outil, réponses à vos questions éventuelles, etc.)",
                "q6-opt1": "Excellent",
                "q6-opt2": "Bon",
                "q6-opt3": "Faible",
                "q6-opt4": "Très Faible",
                "q6-error": "Veuillez sélectionner une option",
                
                // Q7
                "q7-label": "7. Quelle est votre appréciation de la qualité de l'échange avec votre manager lors de votre entretien annuel de performance 2024 ? <span class=\"required\">*</span>",
                "q7-opt1": "Très satisfaisante",
                "q7-opt2": "Plutôt satisfaite",
                "q7-opt3": "Plutôt insatisfaite",
                "q7-opt4": "Très insatisfaite",
                "q7-error": "Veuillez sélectionner une option",
                
                // Q8
                "q8-label": "8. Si vous avez reçu du feedback pour votre collaborateur(trice), a-t-il été utile pour son évaluation de performance ? <span class=\"required\">*</span>",
                "q8-opt1": "Oui",
                "q8-opt2": "Non",
                "q8-error": "Veuillez sélectionner une option",
                
                // Q9
                "q9-label": "9. Si votre réponse est \"Non\", veuillez préciser les raisons <span class=\"required\">*</span>",
                "q9-error": "Veuillez fournir votre réponse",
                
                // Part 2
                "part2-title": "Partie 2 : Cycle annuel de rémunération 2024",
                
                // Q10
                "q10-label": "10. Quel est votre niveau de satisfaction quant au déroulé du cycle annuel de rémunération 2024 ? <span class=\"required\">*</span>",
                "q10-opt1": "Très satisfait",
                "q10-opt2": "Plutôt satisfait",
                "q10-opt3": "Plutôt insatisfait",
                "q10-opt4": "Très insatisfait",
                "q10-error": "Veuillez sélectionner une option",
                
                // Q11
                "q11-label": "11. Quels ont été les points forts du cycle annuel de rémunération 2024 ? <span class=\"required\">*</span>",
                "q11-opt1": "Process",
                "q11-opt2": "Outil",
                "q11-opt3": "Clarté de la communication",
                "q11-opt4": "Réponses A, B et C",
                "q11-opt5": "Aucun",
                "q11-error": "Veuillez sélectionner une option",
                
                // Q12
                "q12-label": "12. Souhaitez-vous détailler votre réponse apportée à la question 11 ? <span class=\"required\">*</span>",
                "q12-error": "Veuillez fournir votre réponse",
                
                // Q13
                "q13-label": "13. Quels seraient les domaines d'amélioration du cycle annuel de rémunération 2024 ? <span class=\"required\">*</span>",
                "q13-opt1": "Process",
                "q13-opt2": "Outil",
                "q13-opt3": "Clarté de la communication",
                "q13-opt4": "Les 3 (réponses A, B et C)",
                "q13-opt5": "Aucune",
                "q13-error": "Veuillez sélectionner une option",
                
                // Q14
                "q14-label": "14. Quels seraient vos suggestions d'amélioration ?",
                
                // Q15
                "q15-label": "15. Quelle a été votre expérience utilisateur dans la saisie des augmentations individuelles de votre équipe dans Workday ? <span class=\"required\">*</span>",
                "q15-opt1": "Très satisfaisante",
                "q15-opt2": "Plutôt satisfaisante",
                "q15-opt3": "Peu satisfaisante",
                "q15-opt4": "Insatisfaisante",
                "q15-error": "Veuillez sélectionner une option",
                
                // Buttons
                "next-btn": "Suivant →",
                "prev-btn": "← Précédent",
                "submit-btn": "Soumettre",
                "submitting-text": "Soumission en cours...",
                
                // Thank You page
                "thank-you-title": "Merci !",
                "thank-you-message1": "Vos commentaires ont été soumis avec succès.",
                "thank-you-message2": "Vos réponses nous aideront à améliorer les processus d'évaluation de la performance et de rémunération.",
                
                // Footer
                "required-fields-note": "Tous les champs obligatoires sont marqués d'un astérisque (*)"
            }
        };
        
        // Current language
        let currentLanguage = 'en';
        
        // Function to update the UI with translations
        function updateUILanguage(language) {
            const translation = translations[language];
            
            // Update all translatable elements
            for (const [id, text] of Object.entries(translation)) {
                const element = document.getElementById(id);
                if (element) {
                    element.innerHTML = text;
                }
            }
            
            // Update select placeholder
            if (language === 'fr') {
                document.querySelector('#country option[value=""]').textContent = "-- Sélectionner un pays --";
            } else {
                document.querySelector('#country option[value=""]').textContent = "-- Select Country --";
            }
            
            // Update error messages for all questions
            document.querySelectorAll('.error-message').forEach(element => {
                if (language === 'fr') {
                    if (element.textContent.includes('Please select')) {
                        element.textContent = "Veuillez sélectionner une option";
                    } else if (element.textContent.includes('Please provide')) {
                        element.textContent = "Veuillez fournir votre réponse";
                    }
                } else {
                    if (element.textContent.includes('Veuillez sélectionner')) {
                        element.textContent = "Please select an option";
                    } else if (element.textContent.includes('Veuillez fournir')) {
                        element.textContent = "Please provide your response";
                    }
                }
            });
        }
        
        // Function to switch language
        function switchLanguage(language) {
            if (language === currentLanguage) return;
            
            // Update active button
            document.getElementById('en-btn').classList.toggle('active', language === 'en');
            document.getElementById('fr-btn').classList.toggle('active', language === 'fr');
            
            // Update UI language
            updateUILanguage(language);
            
            // Set current language
            currentLanguage = language;
            
            // Set HTML language attribute
            document.documentElement.lang = language;
        }
        
        // Function to toggle conditional questions
        function toggleConditionalQuestion(questionId, show) {
            const question = document.getElementById(questionId);
            if (show) {
                question.style.display = 'block';
            } else {
                question.style.display = 'none';
                // Clear any inputs in the hidden conditional question
                const inputs = question.querySelectorAll('input[type="radio"]');
                inputs.forEach(input => input.checked = false);
                const textarea = question.querySelector('textarea');
                if (textarea) textarea.value = '';
                // Clear any error state
                const errorContainer = question.querySelector('.question');
                if (errorContainer) errorContainer.classList.remove('error');
            }
        }
        
        // Function to validate a question and show/hide error message
        function validateQuestion(questionId, isRequired = true) {
            if (!isRequired) return true;
            
            const question = document.getElementById(questionId);
            let isValid = false;
            
            // For radio buttons
            const radios = question.querySelectorAll('input[type="radio"]');
            if (radios.length > 0) {
                isValid = Array.from(radios).some(radio => radio.checked);
            }
            
            // For select elements
            const select = question.querySelector('select');
            if (select) {
                isValid = select.value !== '';
            }
            
            // For textarea elements
            const textarea = question.querySelector('textarea');
            if (textarea) {
                isValid = textarea.value.trim() !== '';
            }
            
            // Toggle error class
            if (isValid) {
                question.classList.remove('error');
            } else {
                question.classList.add('error');
            }
            
            return isValid;
        }
        
        // Function to validate page 1
        function validatePage1() {
            let isValid = true;
            
            // Required fields on page 1
            isValid = validateQuestion('countryQuestion') && isValid;
            isValid = validateQuestion('q1Question') && isValid;
            isValid = validateQuestion('q2Question') && isValid;
            isValid = validateQuestion('q3Question') && isValid;
            isValid = validateQuestion('q4Question') && isValid;
            
            // Conditional validation for q5
            const q4YesRadio = document.querySelector('input[name="q4"][value="Yes"]');
            if (q4YesRadio && q4YesRadio.checked) {
                isValid = validateQuestion('q5Question') && isValid;
            }
            
            isValid = validateQuestion('q6Question') && isValid;
            isValid = validateQuestion('q7Question') && isValid;
            isValid = validateQuestion('q8Question') && isValid;
            
            // Conditional validation for q9
            const q8YesRadio = document.querySelector('input[name="q8"][value="Yes"]');
            if (q8YesRadio && q8YesRadio.checked) {
                isValid = validateQuestion('q9Question') && isValid;
            }
            
            return isValid;
        }
        
        // Function to validate page 2
        function validatePage2() {
            let isValid = true;
            
            // Required fields on page 2
            isValid = validateQuestion('q10Question') && isValid;
            isValid = validateQuestion('q11Question') && isValid;
            isValid = validateQuestion('q12Question') && isValid;
            isValid = validateQuestion('q13Question') && isValid;
            isValid = validateQuestion('q15Question') && isValid;
            
            // Question 14 is optional
            
            return isValid;
        }
        
        // Function to go to next page
        function goToNextPage() {
            if (validatePage1()) {
                document.getElementById('page1').style.display = 'none';
                document.getElementById('page2').style.display = 'block';
                window.scrollTo(0, 0);
            }
        }
        
        // Function to go to previous page
        function goToPreviousPage() {
            document.getElementById('page2').style.display = 'none';
            document.getElementById('page1').style.display = 'block';
            window.scrollTo(0, 0);
        }
        
        // Function to submit the form
        function submitForm() {
            if (validatePage2()) {
                // Show loading state
                const submitButton = document.querySelector('.btn-submit');
                submitButton.disabled = true;
                submitButton.classList.add('is-loading');
                
                // Add spinner if not already present
                let spinner = submitButton.querySelector('.spinner');
                if (!spinner) {
                    spinner = document.createElement('span');
                    spinner.className = 'spinner';
                    submitButton.prepend(spinner);
                }
                spinner.style.display = 'inline-block';
                
                // Collect all form data
                const formData = {
                    country: document.getElementById('country').value,
                    q1: document.querySelector('input[name="q1"]:checked')?.value || '',
                    q2: document.getElementById('q2').value,
                    q3: document.getElementById('q3').value,
                    q4: document.querySelector('input[name="q4"]:checked')?.value || '',
                    q5: document.querySelector('input[name="q5"]:checked')?.value || '',
                    q6: document.querySelector('input[name="q6"]:checked')?.value || '',
                    q7: document.querySelector('input[name="q7"]:checked')?.value || '',
                    q8: document.querySelector('input[name="q8"]:checked')?.value || '',
                    q9: document.getElementById('q9').value,
                    q10: document.querySelector('input[name="q10"]:checked')?.value || '',
                    q11: document.querySelector('input[name="q11"]:checked')?.value || '',
                    q12: document.getElementById('q12').value,
                    q13: document.querySelector('input[name="q13"]:checked')?.value || '',
                    q14: document.getElementById('q14').value,
                    q15: document.querySelector('input[name="q15"]:checked')?.value || '',
                    language: currentLanguage // Add the current language to the form data
                };
                
                console.log('Form data being sent:', JSON.stringify(formData));
                
                // Use XMLHttpRequest to send data to the API
                const xhr = new XMLHttpRequest();
                xhr.open('POST', '/api/submit-manager-survey.js');
                xhr.setRequestHeader('Content-Type', 'application/json');
                
                xhr.onload = function() {
                    if (xhr.status >= 200 && xhr.status < 300) {
                        console.log('Success response:', xhr.responseText);
                        try {
                            const result = JSON.parse(xhr.responseText);
                            // Show thank you page
                            document.getElementById('page2').style.display = 'none';
                            document.getElementById('thankYouPage').style.display = 'block';
                            window.scrollTo(0, 0);
                        } catch (e) {
                            console.error('Error parsing response:', e);
                            alert(currentLanguage === 'fr' ? 
                                'Erreur lors du traitement de la réponse. Veuillez réessayer ou contacter le support.' : 
                                'Error processing response. Please try again or contact support.');
                            
                            // Reset button state
                            submitButton.disabled = false;
                            submitButton.classList.remove('is-loading');
                            spinner.style.display = 'none';
                        }
                    } else {
                        console.error('Error response:', xhr.status, xhr.responseText);
                        try {
                            const errorResult = JSON.parse(xhr.responseText);
                            alert(currentLanguage === 'fr' ? 
                                'Erreur : ' + (errorResult.error || 'Échec de soumission du questionnaire') + '. Veuillez réessayer ou contacter le support.' : 
                                'Error: ' + (errorResult.error || 'Failed to submit survey') + '. Please try again or contact support.');
                        } catch (e) {
                            alert(currentLanguage === 'fr' ? 
                                'Erreur lors de la soumission du questionnaire. Veuillez réessayer ou contacter le support.' : 
                                'Error submitting survey. Please try again or contact support.');
                        }
                        
                        // Reset button state
                        submitButton.disabled = false;
                        submitButton.classList.remove('is-loading');
                        spinner.style.display = 'none';
                    }
                };
                
                xhr.onerror = function() {
                    console.error('Network error occurred');
                    alert(currentLanguage === 'fr' ? 
                        'Une erreur réseau s\'est produite. Veuillez vérifier votre connexion et réessayer.' : 
                        'Network error occurred. Please check your connection and try again.');
                    
                    // Reset button state
                    submitButton.disabled = false;
                    submitButton.classList.remove('is-loading');
                    spinner.style.display = 'none';
                };
                
                xhr.send(JSON.stringify(formData));
            } else {
                // Scroll to the first error
                const firstError = document.querySelector('.error');
                if (firstError) {
                    firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
        }
        
        // Initialize language and conditional questions
        document.addEventListener('DOMContentLoaded', function() {
            // Set default language
            updateUILanguage(currentLanguage);
            
            // Check if any conditional question should be visible initially
            const q4YesRadio = document.querySelector('input[name="q4"][value="Yes"]');
            if (q4YesRadio && q4YesRadio.checked) {
                toggleConditionalQuestion('q5ConditionalQuestion', true);
            }
            
            const q8YesRadio = document.querySelector('input[name="q8"][value="Yes"]');
            if (q8YesRadio && q8YesRadio.checked) {
                toggleConditionalQuestion('q9ConditionalQuestion', true);
            }
        });
    </script>
</body>
</html>
